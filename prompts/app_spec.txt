<project_specification>
  <project_name>示例项目 - 个人知识库管理器</project_name>

  <overview>
    构建一个个人知识库管理器，支持笔记、标签、搜索和知识图谱功能。
    用户可以创建、编辑、组织笔记，并通过标签和全文搜索快速找到信息。
    知识图谱功能帮助用户发现笔记之间的关联。
  </overview>

  <technology_stack>
    <frontend>
      <framework>React with Vite</framework>
      <styling>Tailwind CSS</styling>
      <state_management>Zustand</state_management>
      <routing>React Router</routing>
    </frontend>
    <backend>
      <runtime>Node.js with Express</runtime>
      <database>SQLite with better-sqlite3</database>
      <api>RESTful API</api>
    </backend>
    <features>
      <markdown>Markdown 渲染</markdown>
      <search>全文搜索</search>
      <graph>D3.js 知识图谱可视化</graph>
    </features>
  </technology_stack>

  <core_features>
    <feature name="笔记管理">
      - 创建、编辑、删除笔记
      - Markdown 编辑器和预览
      - 自动保存草稿
      - 版本历史
    </feature>

    <feature name="标签系统">
      - 创建和管理标签
      - 给笔记添加多个标签
      - 按标签筛选笔记
      - 标签云展示
    </feature>

    <feature name="搜索功能">
      - 全文搜索
      - 高级搜索（标题、内容、标签）
      - 搜索结果高亮
      - 搜索历史
    </feature>

    <feature name="知识图谱">
      - 基于标签关联的图谱视图
      - 节点交互（点击查看笔记）
      - 缩放和平移
      - 图谱导出
    </feature>

    <feature name="用户界面">
      - 响应式设计
      - 暗色/亮色主题
      - 快捷键支持
      - 侧边栏导航
    </feature>
  </core_features>

  <database_schema>
    <notes>
      - id, title, content, created_at, updated_at
      - is_pinned, is_archived
    </notes>

    <tags>
      - id, name, color, created_at
    </tags>

    <note_tags>
      - note_id, tag_id
    </note_tags>

    <note_links>
      - source_id, target_id
    </note_links>
  </database_schema>

  <api_endpoints>
    <notes>
      - GET /api/notes
      - POST /api/notes
      - GET /api/notes/:id
      - PUT /api/notes/:id
      - DELETE /api/notes/:id
    </notes>

    <tags>
      - GET /api/tags
      - POST /api/tags
      - PUT /api/tags/:id
      - DELETE /api/tags/:id
    </tags>

    <search>
      - GET /api/search?q=query
    </search>

    <graph>
      - GET /api/graph
    </graph>
  </api_endpoints>

  <success_criteria>
    <functionality>
      - 笔记 CRUD 正常工作
      - Markdown 渲染正确
      - 搜索返回准确结果
      - 知识图谱正确显示关联
    </functionality>

    <user_experience>
      - 界面简洁美观
      - 操作流畅响应快
      - 快捷键使用方便
    </user_experience>

    <technical>
      - 代码结构清晰
      - 错误处理完善
      - 数据库查询优化
    </technical>
  </success_criteria>
</project_specification>
