# 目标驱动工作流

> 让 Claude Code 自主地把软件开发到理想状态

## 核心理念

**不是任务驱动，而是目标驱动。**

```
传统工作流：
  任务列表 → 执行任务 → 完成

目标驱动工作流：
  理想状态 → 差距分析 → 自主行动 → 验证 → 迭代 → 接近理想
```

## 核心文件

### GOAL.md - 理想状态描述

```markdown
# 项目理想状态

## 产品愿景
一个简洁高效的博客系统，用户可以轻松发布和管理文章。

## 成功标准
- [ ] 用户可以注册、登录、登出
- [ ] 用户可以创建、编辑、删除文章
- [ ] 文章支持 Markdown 格式
- [ ] 页面加载速度 < 2秒
- [ ] 移动端适配良好
- [ ] 无明显 bug
- [ ] 代码结构清晰

## 质量标准
- 测试覆盖率 > 80%
- 零控制台错误
- 响应式设计
- 可访问性良好

## 验收条件
当我作为用户使用这个系统时：
1. 注册流程顺畅，不超过 30 秒
2. 写文章体验流畅，自动保存
3. 阅读体验舒适，排版美观
```

### REALITY.md - 当前状态

```markdown
# 当前状态

## 已实现
- 基础项目结构
- 用户登录页面（未验证）

## 待改进
- 登录功能不完整
- 没有文章管理
- 没有测试

## 已知问题
- #1 登录后跳转失败
- #2 移动端布局错位

## 最后更新
2024-02-14 10:30
```

### PROGRESS.md - 进度追踪

```markdown
# 开发进度

## 迭代记录

### 迭代 5 (2024-02-14)
- 实现了文章编辑器
- 修复了登录跳转问题
- 距离理想状态：70%

### 迭代 4 (2024-02-13)
- 实现了用户登录
- 距离理想状态：50%

## 下一步方向
根据差距分析，优先处理：
1. 文章 CRUD 功能
2. 移动端适配
```

## 工作流程

### Claude 的自主循环

```
1. 读取 GOAL.md（理想状态）
2. 读取 REALITY.md（当前状态）
3. 分析差距：理想 vs 现实
4. 决定：做什么最能缩小差距？
5. 执行改进
6. 更新 REALITY.md
7. 验证：更接近理想了吗？
8. 如果没达到理想，继续循环
```

### 启动提示词

```
这是一个目标驱动的开发工作流。

请执行以下步骤：

1. 读取 GOAL.md，理解项目的理想状态
2. 读取 REALITY.md，了解当前状态
3. 分析差距，判断最需要改进的地方
4. 执行改进（代码、测试、文档等）
5. 更新 REALITY.md
6. 如果还没达到理想状态，继续下一个改进

目标：让项目尽可能接近 GOAL.md 中描述的理想状态。
```

### 继续提示词

```
继续目标驱动开发：

1. 读取 GOAL.md 和 REALITY.md
2. 判断当前距离理想状态还有多远
3. 选择最能缩小差距的改进点
4. 执行并验证
5. 更新 REALITY.md

如果已经很接近理想状态，说明哪些方面还可以继续改进。
```

## 与任务驱动的区别

| 维度 | 任务驱动 | 目标驱动 |
|------|---------|---------|
| 输入 | 固定任务列表 | 理想状态描述 |
| 决策 | 人决定任务 | AI 自主判断 |
| 灵活性 | 低（按列表执行） | 高（动态调整） |
| 终点 | 任务完成 | 达到理想状态 |
| 迭代 | 预定义 | 自主迭代 |

## 关键机制

### 1. 差距分析

每次 Claude 都要回答：
- 当前状态是什么？
- 理想状态是什么？
- 差距在哪里？
- 优先改进什么？

### 2. 自主决策

Claude 自己决定：
- 写什么代码
- 写什么测试
- 修复什么 bug
- 改进什么设计

### 3. 持续验证

每次改进后验证：
- 是否更接近理想？
- 是否引入新问题？
- 质量是否提升？

## 目录结构

```
项目/
├── .workflow/
│   ├── GOAL.md       # 理想状态（很少改动）
│   ├── REALITY.md    # 当前状态（经常更新）
│   └── PROGRESS.md   # 进度记录
├── src/              # 源代码
├── tests/            # 测试
└── ...
```

## 一句话总结

**不告诉 AI 做什么，而是告诉 AI 你想要什么，让它自己想办法。**
