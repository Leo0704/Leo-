# 个人项目 + 高AI信任 - 工作流优化指南

## 您的场景特征

- ✅ **个人想法项目**：基于自己的创意和想法
- ✅ **中等规模**：10-30 个任务，3-5 个主要模块
- ✅ **高AI信任**：愿意让 AI 自主决策和执行

## 为什么这个场景特别适合工作流

### 1. 无团队协调成本

**团队项目需要考虑：**
- 新人能否理解这个工作流？
- 如何培训团队成员？
- 如何保证每个人都按流程执行？

**个人项目的优势：**
- 只有你一个使用者
- 可以随时调整和实验
- 不怕出错，大不了回滚

### 2. 中等规模在甜蜜点

```
小项目（< 5 个任务）：
工作流启动时间: 2 分钟
实际执行时间: 5 分钟
比例: 40% 开销 ❌

中项目（10-30 个任务）：
工作流启动时间: 2 分钟
实际执行时间: 2 小时
比例: 1.7% 开销 ✅

大项目（> 50 个任务）：
AI 分析可能出错
依赖关系过于复杂
不建议 ❌
```

### 3. 高信任度带来的效率

**低信任度用户（30% 自动化）：**
```
用户：写一个登录功能
AI：分析任务，调用技能
用户：[审核技能] "行用这个"
AI：生成代码
用户：[审核代码] "这里改一下"
AI：修改代码
用户：[审核] "可以了"
AI：提交代码
↓
5 次人工介入
```

**高信任度用户（80% 自动化）：**
```
用户：写一个登录功能
AI：分析任务 → 调用 frontend-design → 生成代码 → 提交
↓
用户只需：验收最终结果
↓
1 次人工介入（或者 0 次，如果自动验收）
```

## 推荐配置

### 1. 权限配置（完全自主）

在 `.claude/settings.local.json` 中使用：

```json
{
  "env": {
    "WORKFLOW_MODE": "autonomous"
  },
  "permissions": {
    "allow": [
      "Bash(npx:*)",         // 所有 npx 命令（技能安装）
      "Bash(npm:*)",          // 所有 npm 命令
      "Bash(git:*)",           // 所有 git 命令
      "Bash(python:*)",        // 所有 python 命令
      "Write(*)",              // 所有文件写入
      "Edit(*)"               // 所有文件编辑
    ]
  }
}
```

**说明：**
- ✅ `Bash(npx:*)` - 允许所有 `npx` 命令（自动安装技能）
- ✅ `Bash(git:*)` - 允许所有 `git` 命令（自动提交）
- ✅ `Write(*)`, `Edit(*)` - 允许读写任何文件

### 2. 简化验收标准

**因为信任度高，可以减少人工验收点：**

```json
{
  "tasks": [
    {
      "id": "task-001",
      "title": "实现用户认证",
      "acceptance_criteria": [
        {
          "criterion": "测试通过",
          "type": "auto",              // ✅ 自动验收
          "verify": "pytest tests/test_auth.py -v"
        },
        {
          "criterion": "代码审查通过",
          "type": "auto",              // ✅ 改为自动
          "verify": "flake8 src/auth.py --max-line-length=100"
        },
        {
          "criterion": "功能验收",
          "type": "manual",             // ⚠️ 只保留关键的人工点
          "passed": false
        }
      ]
    }
  ]
}
```

**原则：**
- ✅ 可自动化的都用自动化：测试、代码风格检查
- ⚠️ 只在"功能是否符合预期"时才人工验收

### 3. 充分利用并行执行

**个人项目的并行优势：**
```
模块 A: 用户认证（3 小时）
模块 B: 商品管理（2 小时）
模块 C: 订单处理（2 小时）

传统方式：3 + 2 + 2 = 7 小时

工作流并行：max(3, 2, 2) = 3 小时
节省：4 小时（57%）
```

**如何充分利用：**
1. 在 `tasks.json` 中明确依赖关系
2. 让 AI 自动识别可并行的任务
3. 信任 AI 的并行决策

### 4. 添加"快速日志"功能

**个人项目建议增加的功能：**

```json
// .workflow/config.json
{
  "features": {
    "auto_commit": true,              // 自动提交（高信任）
    "parallel_execution": true,         // 允许并行
    "fast_logging": true,              // 快速日志
    "skip_code_review": true            // 跳过代码审查（高信任）
  },
  "logging": {
    "level": "minimal",                 // 只记录关键点
    "include": [
      "task_start",
      "task_complete",
      "parallel_groups",
      "errors"
    ]
  }
}
```

## 实际使用建议

### 场景 1：新想法快速验证（1-2 天）

```
第 1 天：
----------
1. 创建 GOAL.md（10 分钟）
2. 添加 3-5 个核心任务（5 分钟）
3. 运行 /workflow:continue
4. AI 并行执行 3 个任务（2 小时）
5. 自动验收和提交

第 2 天：
----------
1. 运行 /workflow:continue
2. AI 继续执行剩余任务
3. 完成原型
```

**vs 传统方式：**
- 传统：第 1 天写计划 → 第 2-3 天执行 → 第 4 天验收
- 工作流：第 1 天执行 + 验收 → 第 2 天完成
- **加速 50%**

### 场景 2：迭代和优化（持续项目）

```
你想到一个改进点：

传统方式：
1. 打开 IDE
2. 找到相关代码
3. 记得上下文（可能已经忘了）
4. 做修改
5. 写测试
6. 提交

工作流方式：
1. 在 GOAL.md 中添加想法
2. 运行 /workflow:continue
3. AI 自动：
   - 读取 REALITY.md 了解当前状态
   - 分析差距
   - 生成相关任务
   - 执行修改
   - 自动验收
4. 你只需review最终效果
```

**优势：**
- 不用记上下文（GOAL.md + REALITY.md = 完整上下文）
- 不用找代码（AI 会找到）
- 自动验收（不用担心遗漏测试）

### 场景 3：多项目切换

```
你有 3 个个人项目：
- 项目 A：Web 应用（主要）
- 项目 B：CLI 工具（偶尔维护）
- 项目 C：学习实验（兴趣）

传统方式问题：
- 切换成本高（需要"热身"）
- 上下文混乱（记混了 A 和 B 的状态）
- 遗忘进度（2 周后再看 B，忘了在哪了）

工作流方式：
- 每个项目独立状态（.workflow/GOAL.md）
- 切换即恢复（AI 会读取状态）
- 自动进度追踪
```

## 需要注意的点

### ⚠️ 即使高信任，这些仍需人工

1. **产品决策**
   ```
   AI：这个功能用 JWT 还是 Session？
   ↓
   你：需要决策（涉及产品方向）
   ```

2. **用户体验验证**
   ```
   AI：功能已实现，测试通过 ✅
   ↓
   你：需要试用（只有你知道你想要什么体验）
   ```

3. **创意性设计**
   ```
   AI：用蓝色还是绿色主题？
   ↓
   你：需要选择（你的项目，你的审美）
   ```

### ✅ 这些可以完全交给 AI

1. **技术选型**（如果你没有强烈偏好）
2. **代码实现**（如果逻辑清晰）
3. **测试编写**（如果验收标准明确）
4. **文档生成**（API 文档、README 等）
5. **依赖分析**（任务之间的关系）
6. **并行决策**（哪个任务可以同时做）

## 推荐的工作流程

### 日常开发流程

```
早上 9:00：
---------
你：想到一个新功能
  ↓
操作：在 .workflow/GOAL.md 末尾添加：
  "## 新功能
  - 用户可以分享商品到社交平台"

操作：运行 /workflow:continue
  ↓
AI：
  1. 读取 GOAL.md → 发现新功能
  2. 读取 REALITY.md → 了解当前架构
  3. 生成任务：
     - task-A: 添加分享按钮到商品页
     - task-B: 实现分享 API 接口
     - task-C: 编写分享功能测试
  4. 分析依赖：
     - task-A 和 task-B 可并行（无共享依赖）
     - task-C 依赖 task-B
  5. 执行：
     - 并行执行 task-A 和 task-B
     - 完成后执行 task-C
  6. 自动验收和提交

中午 12:00：
----------
你：吃午饭回来

下午 13:00：
----------
你：查看结果
  ↓
操作：git log
  ↓
看到：
  commit abc123: feat: 添加商品分享功能
  - 实现分享按钮（task-A）
  - 实现分享 API（task-B）
  - 测试通过（task-C）
  ↓
你：试用功能
  ↓
满意？
  ✅ 是 → 继续下一个想法
  ❌ 否 → 在 GOAL.md 中添加修改意见，再运行 /workflow:continue
```

### 周末回顾流程

```
周日晚上：
---------
你：运行 /workflow:status
  ↓
AI 显示：
  - 总体进度：7/10 任务完成（70%）
  - 下一个任务：task-008（用户个人资料页）
  - 本周完成的 3 个并行组：
    组 1: [task-A, task-B] 节省 1 小时
    组 2: [task-C, task-D] 节省 0.5 小时
  ↓
你：更新 GOAL.md
  - 标记已完成的功能
  - 调整下阶段目标
  ↓
下周一开始：AI 会看到新的 GOAL.md，自动继续
```

## 最大化效率的技巧

### 技巧 1：批量添加想法

```
❌ 不好：想到一个添加一个
- 你：想到功能 A
- 操作：运行 /workflow:continue
- AI：执行功能 A
- 你：想到功能 B
- 操作：运行 /workflow:continue
- AI：执行功能 B
↓
开销：2 次启动时间

✅ 好：批量添加后统一执行
- 你：想到功能 A, B, C, D
- 操作：在 GOAL.md 一次性添加 4 个功能
- 操作：运行 /workflow:continue
- AI：分析所有 4 个功能 → 生成任务 → 智能并行 → 执行
↓
开销：1 次启动时间
```

### 技巧 2：利用"上下文记忆"

```markdown
<!-- .workflow/GOAL.md -->

## 项目背景和设计决策

### 初始想法
来源：[你的博客或灵感来源]
时间：2026-01-15

### 技术栈选择
- **前端**: React + TailwindCSS
  原因：熟悉生态，组件丰富
- **后端**: Node.js + Express
  原因：快速开发，npm 生态好
- **数据库**: SQLite
  原因：个人项目，无需分布式；部署简单

### 架构决策
- **认证**: JWT (无 refresh token)
  原因：简单项目，30 天过期够用
- **文件存储**: 本地 filesystem + S3 backup
  原因：成本控制，但保留云端备份

<!-- 这些决策会一直被 AI 看到，保持一致性 -->
```

### 技巧 3：预定义验收模板

```json
// .workflow/templates/task.json
{
  "task_template": {
      "acceptance_criteria": [
        {
          "criterion": "代码质量",
          "type": "auto",
          "verify": "ruff check {{file_path}} --fix"
        },
        {
          "criterion": "测试覆盖",
          "type": "auto",
          "verify": "pytest tests/test_{{module_name}}.py --cov={{module_name}}"
        },
        {
          "criterion": "功能验收",
          "type": "manual"
        }
      ]
  }
}
```

## 潜在的进一步自动化

基于你的场景（个人 + 高信任），还可以考虑：

### 1. 自动部署集成

```json
// .workflow/config.json
{
  "deployment": {
      "enabled": true,
      "provider": "vercel",  // 或 railway, render
      "auto_deploy_on": ["task_complete", "milestone_reached"],
      "pre_deploy_check": "npm run test"
  }
}
```

### 2. 智能提醒

```json
{
  "reminders": {
      "stale_task": {
          "enabled": true,
          "threshold_hours": 24,
          "message": "任务已停滞 24 小时，是否需要帮助？"
      },
      "long_running": {
          "enabled": true,
          "threshold_hours": 4,
          "message": "任务运行超过 4 小时，是否需要拆分？"
      }
  }
}
```

### 3. 性能追踪

```json
{
  "metrics": {
      "track_time": true,           // 追踪每个任务耗时
      "track_parallelism": true,   // 追踪并行效率
      "generate_report": "weekly"    // 每周生成报告
  }
}
```

## 总结

**你的场景评估：**

| 维度 | 评分 | 说明 |
|------|------|------|
| 适合度 | ✅ 9/10 | 个人想法项目 + 中等规模 = 完美匹配 |
| 效率提升 | ✅ 8/10 | 高信任度 → 80% 自动化 → 节省 50%+ 时间 |
| 风险 | ✅ 2/10 | 个人项目，低风险，大不了回滚 |
| 学习曲线 | ⚠️ 6/10 | 需要理解 GOAL.md / tasks.json 格式 |
| 维护成本 | ✅ 8/10 | AI 自主维护，低人工介入 |

**推荐：** ✅ **强烈推荐使用**

**下一步行动：**
1. ✅ 使用优化后的权限配置（已生成）
2. ✅ 从一个实际想法开始试用
3. ✅ 观察 1-2 周，收集反馈
4. ✅ 根据使用习惯微调

**需要我帮您开始第一个实际项目吗？** 或者您还有其他问题想讨论？
